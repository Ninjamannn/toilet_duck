<!DOCTYPE html>
<html lang=en>
<head>
    <title>Office WC</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
</head>
<style>
    * {margin: 0; padding: 0;}
    html{font-family: Helvetica; height: 90%; display:inline-block; margin: 0px auto; text-align: center;}
    h1{color: #f5f1f3; padding: 2vh; font-size: 3rem;}  p{font-size: 1.5rem;}

    .siteFooterBar {
	    position: fixed;
	    bottom: 0;
	    /*padding-top: 10px;*/
	    width: 100%;
	    box-shadow: 0px 0px 25px rgb(207, 207, 207);
	    height: 78px;
	    color: #9B9B9B;
	    background: #F3F3F3;
    }

    .content {
    	display: block;
    	padding: 5px;
    	margin-left: auto;
    	margin-right: auto;
    	text-align: center;
    	font: 25px Georgia, "Times New Roman", Times, serif;
    	font-size: 14px;
    }

    .wc_content {
    	display: block;
    	padding: 5px;
    	margin-left: auto;
    	margin-right: auto;
    	text-align: center;
    	font: 25px Georgia, "Times New Roman", Times, serif;
    	font-size: 14px;
    }

    .foot { display: inline-block; line-height: 70px; vertical-align: top }

    body {
        height: 100%;
    }
</style>
<body>

<script>
if(typeof(EventSource) !== 'undefined') {
    const source = new EventSource('http://' + window.location.hostname + '/status');
    source.onmessage = function(e) {

        if (e.data === "WC is invaded!") {
            document.getElementById("result").style.color = "#bd2c2c";
            document.getElementById("result").innerHTML = e.data;
        }
        else if (e.data === "WC is vacant") {
            document.getElementById("result").innerHTML = e.data;
            document.getElementById("result").style.color = "#0e651a";
        }

    };
} else {
    document.getElementById("result").innerHTML = "Sorry, your browser does not support server-sent events...";
}
</script>

<div class="wc">
    <div class="wc_content">
        <img src=./wc.png width="300px" height="300px" >
        <div id="result" style="font-size: 300%; font-family: Monaco, monospace; margin: 20px"></div>
    </div>
</div>


<div class="siteFooterBar">
    <div class="content">
        <img src=./duck.png width="70px" height="70px" >
        <div class="foot">2019 Â© Toilet duck project.</div>
    </div>
</div>
</body>
</html>